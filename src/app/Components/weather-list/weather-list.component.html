@if(loading){
<div
  class="flex items-center justify-center"
  style="height: calc(100vh - 90px)"
>
  <div
    class="w-16 h-16 border-b-4 border-blue-500 rounded-full animate-spin"
  ></div>
  <p class="text-lg text-blue-700 font-semibold ml-4">Fetching Countries...</p>
</div>

}@else {

<div>
  <div class="flex flex-wrap items-center justify-center gap-4 mb-10">
    <input
      type="text"
      class="flex-grow p-4 transition duration-300 border rounded-lg focus:border-blue-500 focus:ring focus:ring-blue-200 focus:outline-none shadow-sm"
      placeholder="Search City"
      [(ngModel)]="city"
      (ngModelChange)="searchCity()"
      (keyup.enter)="searchCity()"
    />
    <button
      (click)="searchCity()"
      type="button"
      class="px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg shadow-lg transition-colors duration-300"
    >
      Search
    </button>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    @for (country of countries; track $index) {
    <div
      [routerLink]="['/weather', country.capital && country.capital[0]]"
      class="flex items-center justify-start p-6 bg-white transition duration-300 border rounded-lg hover:shadow-xl cursor-pointer"
    >
      <img
        [src]="country.flags.png"
        [alt]="country.flags.alt"
        class="w-[25%] mr-4"
      />
      <div>
        <p class="text-xl text-gray-800 font-bold mb-2">
          Country: {{ country.name.official }}
        </p>
        <p class="text-lg text-gray-600 font-semibold">
          Capital: @if(country.capital && country.capital[0]){

          {{ country.capital[0] }} }
        </p>
      </div>
    </div>
    } @empty {
    <p class="col-span-full text-center text-xl text-red-500">
      No Countries Found
    </p>
    }
  </div>
  @if (seeMore) {

  <div class="my-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    <div
      class="flex items-center justify-start p-6 bg-white transition duration-300 border rounded-lg cursor-pointer"
    >
      <div
        class="w-[25%] h-16 rounded-lg bg-gray-200 animate-pulse-color mr-4"
      ></div>
      <div class="h-16 w-full flex flex-col justify-center gap-2">
        <div class="h-5 rounded bg-gray-200 animate-pulse-color w-full"></div>
        <div class="h-5 rounded bg-gray-200 animate-pulse-color w-full"></div>
      </div>
    </div>
    <div
      class="flex items-center justify-start p-6 bg-white transition duration-300 border rounded-lg cursor-pointer"
    >
      <div
        class="w-[25%] h-16 rounded-lg bg-gray-200 animate-pulse-color mr-4"
      ></div>
      <div class="h-16 w-full flex flex-col justify-center gap-2">
        <div class="h-5 rounded bg-gray-200 animate-pulse-color w-full"></div>
        <div class="h-5 rounded bg-gray-200 animate-pulse-color w-full"></div>
      </div>
    </div>
    <div
      class="flex items-center justify-start p-6 bg-white transition duration-300 border rounded-lg cursor-pointer"
    >
      <div
        class="w-[25%] h-16 rounded-lg bg-gray-200 animate-pulse-color mr-4"
      ></div>
      <div class="h-16 w-full flex flex-col justify-center gap-2">
        <div class="h-5 rounded bg-gray-200 animate-pulse-color w-full"></div>
        <div class="h-5 rounded bg-gray-200 animate-pulse-color w-full"></div>
      </div>
    </div>
  </div>

  }@else {}
</div>
}
